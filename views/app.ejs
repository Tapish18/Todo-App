<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        <%= title%>
    </title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
    <link rel="stylesheet" href="css/app.css">
    
</head>

<body>
    <div id="container">
        <h1 id="heading">
            <%= title%>
        </h1>
        <div id="task-input">
            <form action="/app/create-task" method="post">
                <div id="description-box">
                    <label for="description" class="field-heading">DESCRIPTION</label>
                    <input type="text" name="task_description" id="description"
                        placeholder="What do you need to do?" required></input>
                </div>
                <div class="flex-container">
                    <div class="dropdown-center" id="category">
                        <button class="btn btn-secondary dropdown-toggle" id="category-btn" type="button" data-bs-toggle="dropdown" aria-expanded="false" >
                            <input type="text" name = "category" id="cat-input" class="field-heading" placeholder="CATEGORY" style="border: none;text-align: center;">
                          <!-- CATEGORY -->
                        </button>
                        <ul class="dropdown-menu" style="text-align: center; width: 100%;">
                          <li><a class="dropdown-item field-heading" style="font-weight: 500;" href="#">Choose an Option</a></li>
                          <li><a class="dropdown-item" href="#">Personal</a></li>
                          <li><a class="dropdown-item" href="#">Work</a></li>
                          <li><a class="dropdown-item" href="#">School</a></li>
                          <li><a class="dropdown-item" href="#">Cleaning</a></li>
                          <li><a class="dropdown-item" href="#">Other</a></li>
                        </ul>
                    </div>
                    <div id="due-date">
                        <label for="date" class="field-heading" style="display: block; width: 100%;">DUE DATE</label>
                        <input type="date" name="due_date" id="date">
                    </div>
                </div>
                <div class="mybuttons">
                    <button type="submit" class="btn btn-danger" id="add-btn">
                        <i class="fa-solid fa-plus fa-lg" style="color: #ffffff;"></i>
                        ADD Task
                    </button>
                </div>
                <div class="mybuttons">
                    <button type="submit" class="btn btn-dark" id="delete-btn">
                        <i class="fa-solid fa-trash-can fa-lg" style="color: #ffffff;"></i>
                        DELETE
                    </button>
                </div>
            </form>
        </div>
        
        <div id="tasks">
            <form action="/app/delete-tasks" method="post" id="form2">
                <% for(let i in tasks){%>
                    <div class="task">
                        <input class="check" type="checkbox" name="task_selector" value="<%= tasks[i].id%>">
                        <div class="task-description">
                            <div class="task-description-heading">
                                <%= tasks[i].task_description%>
                            </div>
                            <div class="task-description-date">
                                <i class="fa-solid fa-calendar-days fa-lg" style="color: #808080;"></i>
                                <%= tasks[i].due_date.toLocaleDateString(undefined,{ month: 'long', day: 'numeric', year: 'numeric' })%>
                            </div>
                        </div>
                        <div class="cat-name" style="background-color: <%= colorArray[i] %>;">
                            <%= tasks[i].category%>
                        </div>
                    </div>
                <%} %>
            </form>
        </div>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz"
        crossorigin="anonymous"></script>
    <script src="https://kit.fontawesome.com/4b343801cb.js" crossorigin="anonymous"></script>
    <script src="js/code.jquery.com_jquery-3.7.0.js"></script>
    <script src="js/app.js"></script>
    
</body>

</html>